<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>OT Streaming</title>
</head>
<body>
    <header>
        <h1>OT Streaming</h1>
        <nav>
            <ul>
                <li><a href="#">Accueil</a></li>
                <li><a href="#" id="category-link">Catégories</a></li>
                <li><a href="#">Recherche</a></li>
            </ul>
        </nav>
    </header>
    
    <section class="featured">
        <h2>Anime en vedette</h2>
        <!-- Add thumbnail images for featured anime here -->
        <div class="thumbnail-container">
            
            <!-- Add more featured anime thumbnails here -->
        </div>
    </section>
    
    <section class="categories">
        <h2>Catégories populaires</h2>
        <div class="category-card">
            <h3>Action</h3>
        </div>
        <div class="category-card">
            <h3>Comédie</h3>
        </div>
        <!-- Add more categories here -->
        <div class="category-card">
           <h3>Drame</h3>
        </div>
        <div class="category-card">
             <h3>Aventure</h3>
        </div>
        <!-- Add more categories here -->
    </section>
    
    <footer>
        <p>&copy; 2023 OT Streaming. Tous droits réservés.</p>
    </footer>

    <!-- Category Popup -->
    <div class="category-popup" id="category-popup">
        <div class="category-list">
            <h2>Toutes les catégories</h2>
            <ul>
                <li><a href="#">Action</a></li>
                <li><a href="#">Comédie</a></li>
                <li><a href="#">Drame</a></li>
                <li><a href="#">Aventure</a></li>
                <!-- Add more categories here -->
            </ul>
            <span class="close-popup" id="close-popup">&times;</span>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Function to fetch and display featured anime thumbnails
        function loadFeaturedAnime() {
            const thumbnailContainer = document.getElementById('thumbnail-container');
    
            // Fetch the list of featured anime from the server
            fetch('/getFeaturedAnime')
                .then(response => response.json())
                .then(featuredAnimeList => {
                    thumbnailContainer.innerHTML = '';
    
                    // Generate thumbnail elements for each featured anime
                    featuredAnimeList.forEach(featuredAnime => {
                        const thumbnail = document.createElement('a');
                        thumbnail.href = `anime.html?name=${featuredAnime.name}`;
                        thumbnail.innerHTML = `<img src="${featuredAnime.thumbnail}" width="140" alt="${featuredAnime.name}">`;
                        thumbnailContainer.appendChild(thumbnail);
                    });
                })
                .catch(error => {
                    console.error('Error fetching featured anime:', error);
                });
        }
    
        // Call the loadFeaturedAnime function when the page loads
        window.onload = loadFeaturedAnime;
    </script>
</body>
</html>
